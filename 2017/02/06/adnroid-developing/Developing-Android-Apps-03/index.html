<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"hoyuo.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ListView Item Select  우리는 목록 중에 하나를 선택해서 자세하게 보고 싶습니다 어떤 method를 이용해야 할까요? 123456789101. setOnTouchListener(View.OnTouchListener l)2. setOnClickListener	(AdapterView.OnClickListener l)3. setOnItemSele">
<meta property="og:type" content="article">
<meta property="og:title" content="3. Create New Activities and Navigate Apps with Intents">
<meta property="og:url" content="https://hoyuo.github.io/2017/02/06/adnroid-developing/Developing-Android-Apps-03/index.html">
<meta property="og:site_name" content="Hoyuo&#39;s Blog">
<meta property="og:description" content="ListView Item Select  우리는 목록 중에 하나를 선택해서 자세하게 보고 싶습니다 어떤 method를 이용해야 할까요? 123456789101. setOnTouchListener(View.OnTouchListener l)2. setOnClickListener	(AdapterView.OnClickListener l)3. setOnItemSele">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/1.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/2.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/3.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/4.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/5.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/6.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/7.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/8.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/9.png">
<meta property="og:image" content="http://developer.android.com/images/ui/settings/settings.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/10.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/10_1.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/13.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/14.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/15.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/16.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/17.png">
<meta property="og:image" content="https://hoyuo.github.io/img/adnroid-developing/3/18.png">
<meta property="article:published_time" content="2017-02-06T06:00:00.000Z">
<meta property="article:author" content="Hoyuo">
<meta property="article:tag" content="udacity">
<meta property="article:tag" content="android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hoyuo.github.io/img/adnroid-developing/3/1.png">

<link rel="canonical" href="https://hoyuo.github.io/2017/02/06/adnroid-developing/Developing-Android-Apps-03/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'ko'
  };
</script>

  <title>3. Create New Activities and Navigate Apps with Intents | Hoyuo's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-89785418-1"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-89785418-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Hoyuo's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Android Developer</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>홈</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>태그<span class="badge">11</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>카테고리<span class="badge">8</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>아카이브<span class="badge">45</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>검색
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/Hoyuo" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="ko">
    <link itemprop="mainEntityOfPage" href="https://hoyuo.github.io/2017/02/06/adnroid-developing/Developing-Android-Apps-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Hoyuo">
      <meta itemprop="description" content="Hoyuo's programming writting">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hoyuo's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          3. Create New Activities and Navigate Apps with Intents
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2017-02-06 15:00" itemprop="dateCreated datePublished" datetime="2017-02-06T15:00:00+09:00">2017-02-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/" itemprop="url" rel="index"><span itemprop="name">android</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/android/Developing-Android-Apps/" itemprop="url" rel="index"><span itemprop="name">Developing Android Apps</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="ListView-Item-Select"><a href="#ListView-Item-Select" class="headerlink" title="ListView Item Select"></a>ListView Item Select</h1><hr>
<p><img src="/img/adnroid-developing/3/1.png"></p>
<p>우리는 목록 중에 하나를 선택해서 자세하게 보고 싶습니다</p>
<p>어떤 method를 이용해야 할까요?</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> setOnTouchListener(View.OnTouchListener l)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> setOnClickListener</span><br><span class="line">	(AdapterView.OnClickListener l)</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> setOnItemSelectedListener</span><br><span class="line">	(AdapterView.OnItemSelectedListener l)</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span> setOnItemClickListener</span><br><span class="line">	(AdapterView.OnItemClickListener l)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/reference/android/widget/ListView.html">ListView</a></p>
<h2 id="정답-setOnItemClickListener"><a href="#정답-setOnItemClickListener" class="headerlink" title="정답 : setOnItemClickListener"></a>정답 : setOnItemClickListener</h2><hr>
<h1 id="Toast"><a href="#Toast" class="headerlink" title="Toast"></a>Toast</h1><hr>
<p>Android에서 Toast Message는 몇 초간 표시하는 간단한 메시지 입니다<br>간단한 메시지를 표시하기 위해서 유용합니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">	<span class="comment">//Toast 삽입</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/reference/android/widget/Toast.html">Toast Document</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">		String forecast = mForecastAdapter.getItem(position);</span><br><span class="line">		Toast.makeText(getActivity(), forecast, Toast.LENGTH_SHORT).show();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Adapter에서 항목을 가져오기 위해서는 getItem을 사용합니다<br>Toast를 만들기만 하고 보여주고 만드는 거까지 진행을 합니다<br>한번 테스트를 통해서 보면 Toast Message가 잘 나오는 걸 확인 할 수 있습니다</p>
<hr>
<h1 id="Activity"><a href="#Activity" class="headerlink" title="Activity"></a>Activity</h1><hr>
<p><img src="/img/adnroid-developing/3/2.png"></p>
<p>왼쪽 화면과 같은 Activity를 만들어 봅시다<br>화면을 잘 살펴보세요 &lt; 버튼이 있습니다<br>&lt; 버튼은 항상 부모로 이동을 해야 합니다<br>우리가 만든 Application의 Activity를 트리로 표현하면 MainActivity가 현재 만드는 Activity의 부모 Activity가 됩니다<br>천천히 따라서 해봅시다</p>
<p><img src="/img/adnroid-developing/3/3.png"></p>
<p><img src="/img/adnroid-developing/3/4.png"></p>
<hr>
<h2 id="일단-파일을-정리-합시다-여기서-없는-파일은-넘어가시면-됩니다"><a href="#일단-파일을-정리-합시다-여기서-없는-파일은-넘어가시면-됩니다" class="headerlink" title="일단 파일을 정리 합시다 (여기서 없는 파일은 넘어가시면 됩니다)"></a>일단 파일을 정리 합시다 (여기서 없는 파일은 넘어가시면 됩니다)</h2><ul>
<li>DetailActivityFragment.java 파일을 삭제합니다</li>
<li> Content_detail.xml 삭제합니다</li>
<li> activity_detail.xml 수정합니다</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">FrameLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:id</span>=<span class="string">&quot;@+id/container&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.DetailActivity&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>fragment_detail.xml 수정합니다</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">RelativeLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingBottom</span>=<span class="string">&quot;@dimen/activity_vertical_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingLeft</span>=<span class="string">&quot;@dimen/activity_horizontal_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingRight</span>=<span class="string">&quot;@dimen/activity_horizontal_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:paddingTop</span>=<span class="string">&quot;@dimen/activity_vertical_margin&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.DetailActivity$PlaceholderFragment&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/detail_text&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>DetailActivity.java 수정합니다</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Bundle;</span><br><span class="line"><span class="keyword">import</span> android.support.v4.app.Fragment;</span><br><span class="line"><span class="keyword">import</span> android.support.v7.app.AppCompatActivity;</span><br><span class="line"><span class="keyword">import</span> android.view.LayoutInflater;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_detail);</span><br><span class="line">        <span class="keyword">if</span> (savedInstanceState == <span class="keyword">null</span>) &#123;</span><br><span class="line">            getSupportFragmentManager().beginTransaction()</span><br><span class="line">                    .add(R.id.container, <span class="keyword">new</span> PlaceholderFragment())</span><br><span class="line">                    .commit();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">        getMenuInflater().inflate(R.menu.menu_detail, menu);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> id = item.getItemId();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (id == R.id.action_settings) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PlaceholderFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">PlaceholderFragment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">            View rootView = inflater.inflate(R.layout.fragment_detail, container, <span class="keyword">false</span>);</span><br><span class="line">            <span class="keyword">return</span> rootView;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>mainfests.xml 수정합시다</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;activity</span><br><span class="line">    android:name=&quot;.DetailActivity&quot;</span><br><span class="line">    android:label=&quot;@string/title_activity_detail&quot;</span><br><span class="line">    android:parentActivityName=&quot;.MainActivity&quot;</span><br><span class="line">    android:theme=&quot;@style/AppTheme&quot;&gt;</span><br><span class="line">    &lt;meta-data</span><br><span class="line">        android:name=&quot;android.support.PARENT_ACTIVITY&quot;</span><br><span class="line">        android:value=&quot;com.study.sunshine.MainActivity&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<p><img src="/img/adnroid-developing/3/5.png"></p>
<p>화면을 전환해서 하는 경우를 StartActivity를 이용해서 진행합니다<br>Intent를 이용해서 포장을 해서 진행을 합니다<br>우리가 서로 Activity간의 통신이나 시스템과 통신을 위해서는 Intent를 이용해서 진행이 되는 것입니다</p>
<p>클래스 이름을 이용하여서 대상을 명백히 나타내는 Intent를 Explicit Intent라고 합니다<br>반대 개념으로 Implicit Intent가 있습니다</p>
<p>Intent를 쉽게 예시를 통해서 설명을 하겠습니다</p>
<p>Intent는 편지와 같다고 생각하면 됩니다<br>내가 전달하고자 하는 구성요소를 포함하고 있는 편지입니다<br>작은 공간이 있어서 내가 전달하고 싶은 데이터를 넣을 수 있습니다<br>그래서 확실한 수취인의 이름을 지정합니다<br><strong>지금까지 설명한 내용은 Explicit Intent입니다</strong></p>
<p><strong>또 다른 Intent가 존재합니다 Implicit Intent입니다</strong><br>아까와 마찬가지로 편지에 모든 구성요소가 포함 되어있고, 약간의 데이터도 포함이 되어있습니다<br>하진만 수취인이 적혀있지 않습니다<br>그러나 데이터에서 내가 지정한 액션을 수행할 능력이 있는 액티비티를 찾아서 진행이 됩니다<br>웹사이트를 본다던지, 전화를 건다던지, SMS를 보낸다던지 하는 역활을 하게 됩니다<br>참고 링크를 통해서 Native Application의 Implicit Intent를 확인하세요</p>
<p><a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/guide/components/intents-common.html">참고</a></p>
<hr>
<p>아까전에 했던 Toast Message를 대신해서 Intent를 이용해서 데이터를 전달해서 표시해 봅시다</p>
<p><a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/guide/components/intents-filters.html#ExampleExplicit">explicit intent</a>를 참고하여서 진행을 하겠습니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; parent, View view, <span class="keyword">int</span> position, <span class="keyword">long</span> id)</span> </span>&#123;</span><br><span class="line">		String forecast = mForecastAdapter.getItem(position);</span><br><span class="line">		Intent intent = <span class="keyword">new</span> Intent(getActivity(), DetailActivity.class);</span><br><span class="line">		intent.putExtra(Intent.EXTRA_TEXT, forecast);</span><br><span class="line">		startActivity(intent);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>Intent에 Data를 전달하기 위해서는 putExtra를 사용하면 됩니다<br>key, value 구조로 이루어져있습니다</p>
<p>코드를 잘 작성하고 실행을 했다면 화면이 바뀌는걸 볼 수 있습니다</p>
<p>화면에 Hello World만 표시됩니다<br>우리는 간단한 코드 작성으로 방금 전에 전달받은 Data를 읽을 수 있습니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">PlaceholderFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">                                 Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		View rootView = inflater.inflate(R.layout.fragment_detail, container, <span class="keyword">false</span>);</span><br><span class="line">		Intent intent = getActivity().getIntent();</span><br><span class="line">		<span class="keyword">if</span> (intent != <span class="keyword">null</span> &amp;&amp; intent.hasExtra(Intent.EXTRA_TEXT)) &#123;</span><br><span class="line">			String forecast = intent.getStringExtra(Intent.EXTRA_TEXT);</span><br><span class="line">			((TextView)rootView.findViewById(R.id.detail_text)).setText(forecast);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> rootView;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="UX-User-Experience-Setting"><a href="#UX-User-Experience-Setting" class="headerlink" title="UX(User Experience) - Setting"></a>UX(User Experience) - Setting</h1><p><img src="/img/adnroid-developing/3/6.png"></p>
<p><img src="/img/adnroid-developing/3/7.png"></p>
<p><img src="/img/adnroid-developing/3/8.png"></p>
<p><img src="/img/adnroid-developing/3/9.png"></p>
<p>Setting 을 구성하는 방법은 여러가지가 있습니다<br>같이 Application을 만든 사람과 토론을 통해서 진행을 하세요</p>
<h2 id="토론을-통해서-결정이-나는것은-아니지만-그래도-모든것을-Setting에-넣는-것은-하지-마세요"><a href="#토론을-통해서-결정이-나는것은-아니지만-그래도-모든것을-Setting에-넣는-것은-하지-마세요" class="headerlink" title="토론을 통해서 결정이 나는것은 아니지만 그래도 모든것을 Setting에 넣는 것은 하지 마세요!!!!"></a>토론을 통해서 결정이 나는것은 아니지만 그래도 모든것을 Setting에 넣는 것은 하지 마세요!!!!</h2><p><a target="_blank" rel="noopener" href="https://www.google.com/design/spec/patterns/settings.html">Design Setting</a></p>
<p>Setting에 무엇을 넣고 무엇을 표시하고 UI/UX 선택이 끝났으면 만들어봅시다</p>
<p><a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/guide/topics/ui/settings.html">Setting GudeLine</a>을 참고해 보세요</p>
<p><img src="http://developer.android.com/images/ui/settings/settings.png"></p>
<p>다음과 같은 화면 구성은 자동으로 할 수 있습니다</p>
<hr>
<p>모든 설정 값은 <a target="_blank" rel="noopener" href="http://developer.android.com/intl/ko/reference/android/content/SharedPreferences.html">Preferences</a>로 저장됩니다<br>Preferences는 같은 구글 계정을 쓰는 Android Device와 공유 됩니다<br>그래서 Device를 바꿔도 유지가 되는 것입니다 당연히 Application이 삭제 되기 전까지 입니다</p>
<p>최근에는 자동으로 Preference값이 Google Cloud안에 데이터가 저장이 됩니다.<br>만약 저장을 하기 싫다면 AndroidMainfests.xml 파일에 android:allowBackup=”false” 을 추가하면 됩니다</p>
<p>SettingsActivity를 만들기 위해서 New Empty Activity를 클릭해서 SettingsActivity라고 만듭니다 Layout은 제외하고여</p>
<p><img src="/img/adnroid-developing/3/10.png"></p>
<p><img src="/img/adnroid-developing/3/10_1.png"></p>
<p>이제 코드로 SettingsActivity를 완성합시다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SettingsActivity</span> <span class="keyword">extends</span> <span class="title">PreferenceActivity</span></span></span><br><span class="line"><span class="class">        <span class="keyword">implements</span> <span class="title">Preference</span>.<span class="title">OnPreferenceChangeListener</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bindPreferenceSummaryToValue</span><span class="params">(Preference preference)</span> </span>&#123;</span><br><span class="line">        preference.setOnPreferenceChangeListener(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">        onPreferenceChange(preference,</span><br><span class="line">                PreferenceManager</span><br><span class="line">                        .getDefaultSharedPreferences(preference.getContext())</span><br><span class="line">                        .getString(preference.getKey(), <span class="string">&quot;&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onPreferenceChange</span><span class="params">(Preference preference, Object value)</span> </span>&#123;</span><br><span class="line">		String stringValue = value.toString();</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> (preference <span class="keyword">instanceof</span> ListPreference) &#123;</span><br><span class="line">			ListPreference listPreference = (ListPreference) preference;</span><br><span class="line">			<span class="keyword">int</span> prefIndex = listPreference.findIndexOfValue(stringValue);</span><br><span class="line">			<span class="keyword">if</span> (prefIndex &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">				preference.setSummary(listPreference.getEntries()[prefIndex]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			preference.setSummary(stringValue);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>AndroidManifest.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;activity</span><br><span class="line">    android:name=&quot;.SettingsActivity&quot;</span><br><span class="line">    android:label=&quot;@string/title_activity_settings&quot;</span><br><span class="line">    android:parentActivityName=&quot;.MainActivity&quot;&gt;</span><br><span class="line">    &lt;meta-data</span><br><span class="line">        android:name=&quot;android.support.PARENT_ACTIVITY&quot;</span><br><span class="line">        android:value=&quot;com.study.sunshine.MainActivity&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>기본적인 Setting Activity에 대한 구성은 끝났습니다<br>그러나 우리가 원하는 내용의 Setting은 아닙니다<br>또 각 Activity에서 Menu에 있는 Settings를 눌러도 아무 작동을 안합니다<br>코드에 추가를 해서 작동하게 합시다</p>
<p>MainActivity, DetailActivity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> id = item.getItemId();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (id == R.id.action_settings) &#123;</span><br><span class="line">		startActivity(<span class="keyword">new</span> Intent(<span class="keyword">this</span>, SettingsActivity.class));</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>아직 Setting Activity 화면을 설정을 안했습니다<br>일단 res 폴더에 xml 폴더를 만들고 진행합시다<br>pref_general.xml 를 만듭니다</p>
<p><img src="/img/adnroid-developing/3/13.png"></p>
<p><img src="/img/adnroid-developing/3/14.png"></p>
<p><img src="/img/adnroid-developing/3/15.png"></p>
<p><img src="/img/adnroid-developing/3/16.png"></p>
<p><strong>pref_general.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">PreferenceScreen</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;EditTextPreference</span><br><span class="line">        android:defaultValue=&quot;@string/pref_location_default&quot;</span><br><span class="line">        android:inputType=&quot;text&quot;</span><br><span class="line">        android:key=&quot;@string/pref_location_key&quot;</span><br><span class="line">        android:singleLine=&quot;true&quot;</span><br><span class="line">        android:title=&quot;@string/pref_location_label&quot; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">PreferenceScreen</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>strings.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Preference Data--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_location_default&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Seoul<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_location_key&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Location<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_location_label&quot;</span>&gt;</span>Location<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>우리가 방금 만든 perf_general.xml을 SettingsActivity에 연결합시다</p>
<p><strong>SettingActivity.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">	addPreferencesFromResource(R.xml.pref_general);</span><br><span class="line">	bindPreferenceSummaryToValue(</span><br><span class="line">		findPreference(getString(R.string.pref_location_key)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>실제로 Setting을 이용해서 Data를 바꾸면 앱을 다시 실행해도 남아있습니다.<br>이제 바뀐 Data를 가지고 날씨를 가져오도록 합시다</p>
<p><strong>ForecastFragment.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> id = item.getItemId();</span><br><span class="line">	<span class="keyword">if</span> (id == R.id.action_refresh) &#123;</span><br><span class="line">		FetchWeatherTask fetchWeatherTask = <span class="keyword">new</span> FetchWeatherTask();</span><br><span class="line">		SharedPreferences sharedPreferences =</span><br><span class="line">			PreferenceManager.getDefaultSharedPreferences(getActivity());</span><br><span class="line">		String location = sharedPreferences.getString(</span><br><span class="line">			getString(R.string.pref_location_key),</span><br><span class="line">			getString(R.string.pref_location_default));</span><br><span class="line">		fetchWeatherTask.execute(location);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>바뀐 위치에 맞게 데이터를 가져옵니다<br>잘못된 데이터를 넣으면 잘못된 데이터를 가져오겠지요</p>
<p>이제 매번 Refresh 버튼 클릭하기 귀찮습니다<br>이걸 바꿔 봅시다. 그리고 약간의 Refactoring 합시다</p>
<p>방금전 코드를 메서드를 만들어 봅시다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">updateWeather</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	FetchWeatherTask fetchWeatherTask = <span class="keyword">new</span> FetchWeatherTask();</span><br><span class="line">	SharedPreferences sharedPreferences =</span><br><span class="line">		PreferenceManager.getDefaultSharedPreferences(getActivity());</span><br><span class="line">	String location = sharedPreferences.getString(</span><br><span class="line">		getString(R.string.pref_location_key),</span><br><span class="line">		getString(R.string.pref_location_default));</span><br><span class="line">	fetchWeatherTask.execute(location);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그리고 onStart method를 Override 합시다<br>onOptionsItemSelected method는 Refactoring 합시다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onStart();</span><br><span class="line">	updateWeather();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> id = item.getItemId();</span><br><span class="line">	<span class="keyword">if</span> (id == R.id.action_refresh) &#123;</span><br><span class="line">		updateWeather();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 MainActivity가 보여질때마다 날씨를 직접 가져오기때문에<br>Fake Data를 지워도 되겠네요</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">	Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">	mForecastAdapter = <span class="keyword">new</span> ArrayAdapter&lt;String&gt;(</span><br><span class="line">			getActivity(),</span><br><span class="line">			R.layout.list_item_forecast,</span><br><span class="line">			R.id.list_item_forecast_textview,</span><br><span class="line">			<span class="keyword">new</span> ArrayList&lt;String&gt;()</span><br><span class="line">	);</span><br><span class="line">	<span class="comment">// 생략</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 쓸만한 Application이 되었습니다<br>아직 Setting이 끝난것이 아닙니다!!</p>
<p>아직 하나더 Setting 할 것이 남았습니다<br>temperature units를 설정해야합니다</p>
<p><strong>strings.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Preference UNITS Data--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_label&quot;</span>&gt;</span>Temperature Units<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_label_metric&quot;</span>&gt;</span>Metric<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_label_imperial&quot;</span>&gt;</span>Imperial<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_key&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>units<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_metric&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>metric<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_imperial&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>imperial<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>value 폴더 안에 arrays.xml 을 만드세요</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_options&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">item</span>&gt;</span>@string/pref_units_label_metric<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">item</span>&gt;</span>@string/pref_units_label_imperial<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">string-array</span> <span class="attr">name</span>=<span class="string">&quot;pref_units_values&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">item</span>&gt;</span>@string/pref_units_metric<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">item</span>&gt;</span>@string/pref_units_imperial<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">string-array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>pref_general.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;ListPreference</span><br><span class="line">	android:defaultValue=&quot;@string/pref_units_metric&quot;</span><br><span class="line">	android:entries=&quot;@array/pref_units_options&quot;</span><br><span class="line">	android:entryValues=&quot;@array/pref_units_values&quot;</span><br><span class="line">	android:key=&quot;@string/pref_units_key&quot;</span><br><span class="line">	android:title=&quot;@string/pref_units_label&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p><strong>SettingActivity.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreate</span><span class="params">(Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onCreate(savedInstanceState);</span><br><span class="line">	addPreferencesFromResource(R.xml.pref_general);</span><br><span class="line">	bindPreferenceSummaryToValue(</span><br><span class="line">			findPreference(getString(R.string.pref_location_key)));</span><br><span class="line">	bindPreferenceSummaryToValue(</span><br><span class="line">			findPreference(getString(R.string.pref_units_key)));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ForecastFragment.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">formatHighLows</span><span class="params">(<span class="keyword">double</span> high, <span class="keyword">double</span> low)</span> </span>&#123;</span><br><span class="line">	SharedPreferences sharedPreferences =</span><br><span class="line">		PreferenceManager.getDefaultSharedPreferences(getActivity());</span><br><span class="line">	String unitType = sharedPreferences.getString(</span><br><span class="line">		getString(R.string.pref_units_key),</span><br><span class="line">		getString(R.string.pref_units_metric));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (unitType.equals(getString(R.string.pref_units_imperial))) &#123;</span><br><span class="line">		high = (high * <span class="number">1.8</span>) + <span class="number">32</span>;</span><br><span class="line">		low = (low * <span class="number">1.8</span>) + <span class="number">32</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!unitType.equals(getString(R.string.pref_units_metric))) &#123;</span><br><span class="line">		Log.d(LOG_TAG, <span class="string">&quot;Unit type not found : &quot;</span> + unitType);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">long</span> roundedHigh = Math.round(high);</span><br><span class="line">	<span class="keyword">long</span> roundedLow = Math.round(low);</span><br><span class="line"></span><br><span class="line">	String highLowStr = roundedHigh + <span class="string">&quot;/&quot;</span> + roundedLow;</span><br><span class="line">	<span class="keyword">return</span> highLowStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Implicit-Intent"><a href="#Implicit-Intent" class="headerlink" title="Implicit Intent"></a>Implicit Intent</h2><blockquote>
<p>게으른 프로그래머는 더 적은 실수를 한다</p>
</blockquote>
<p>지도에서 내가 날씨를 얻는곳을 보고 싶어요<br>일단 메뉴를 추가해 봅시다</p>
<p><strong>menu_main.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;item</span><br><span class="line">	android:id=&quot;@+id/action_map&quot;</span><br><span class="line">	android:title=&quot;@string/action_map&quot;</span><br><span class="line">	app:showAsAction=&quot;never&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p><strong>strings.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;action_map은&quot;</span> <span class="attr">translatable</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Map Location<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>MainActivity.java</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> id = item.getItemId();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (id == R.id.action_settings) &#123;</span><br><span class="line">		startActivity(<span class="keyword">new</span> Intent(<span class="keyword">this</span>, SettingsActivity.class));</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (id == R.id.action_map) &#123;</span><br><span class="line">		openPreferredLocationInMap();</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">openPreferredLocationInMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	SharedPreferences sharedPreferences =</span><br><span class="line">		PreferenceManager.getDefaultSharedPreferences(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">	String location = sharedPreferences.getString(</span><br><span class="line">		getString(R.string.pref_location_key),</span><br><span class="line">		getString(R.string.pref_location_default));</span><br><span class="line"></span><br><span class="line">	Uri geoLocation = Uri.parse(<span class="string">&quot;geo:0,0?&quot;</span>).buildUpon()</span><br><span class="line">		.appendQueryParameter(<span class="string">&quot;q&quot;</span>, location)</span><br><span class="line">		.build();</span><br><span class="line"></span><br><span class="line">	Intent intent = <span class="keyword">new</span> Intent(Intent.ACTION_VIEW);</span><br><span class="line">	intent.setData(geoLocation);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>(intent.resolveActivity(getPackageManager()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">		startActivity(intent);</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		Log.d(LOG_TAG, <span class="string">&quot;Couldn&#x27;t call&quot;</span> + location + <span class="string">&quot;, no receiving apps installed!&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="여기서-우리는-궁금합니다-어떻게-Map-Application이-실행되는지"><a href="#여기서-우리는-궁금합니다-어떻게-Map-Application이-실행되는지" class="headerlink" title="여기서 우리는 궁금합니다 - 어떻게 Map Application이 실행되는지"></a>여기서 우리는 궁금합니다 - 어떻게 Map Application이 실행되는지</h2><p>이것은 다른 앱의 AndroidManifest.xml의 정답이 있습니다</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">	&lt;action:name=&quot;android.intent.action.View&quot;/&gt;</span><br><span class="line">	<span class="tag">&lt;<span class="name">data</span> <span class="attr">android:scheme</span>=<span class="string">&quot;geo&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>geo라는 Data scheme를 처리 하게 됩니다</p>
<p>만약 Data scheme를 처리할 수 있는 Application이 여러개라면 사용자가 선택할 수 있도록 팝업창을 보여주게 됩니다</p>
<hr>
<h2 id="Share-action-provider"><a href="#Share-action-provider" class="headerlink" title="Share action provider"></a>Share action provider</h2><p><strong>Share action provider</strong> 라는 것이 추가 되었습니다<br>뭐라고 설명해야 하지… 그 ActionBar Icon 중에서 먼가 공유할때 쓰는 버튼이 있습니다</p>
<p>그것을 우리도 추가를 해봅시다<br>날씨를 친구들에게도 알려줍시다</p>
<p>기본적으로 Share action provider를 이용하기 위해서는 문자열부터 추가하는것으로 시작 합니다</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">&quot;action_share&quot;</span>&gt;</span>Share<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>menu_detail_fragment</strong>라는 이름의 메뉴를 추가 하세요</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>&gt;</span></span><br><span class="line">    &lt;item</span><br><span class="line">        android:id=&quot;@+id/action_share&quot;</span><br><span class="line">        android:title=&quot;@string/action_share&quot;</span><br><span class="line">		app:actionProviderClass=&quot;android.support.v7.widget.ShareActionProvider&quot;</span><br><span class="line">        app:showAsAction=&quot;always&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/img/adnroid-developing/3/17.png"></p>
<p>PlaceholderFragment을 DetailFragment로 바꿉시다<br>class name은 막 바꾸면 안되기 때문에 그림에서 설명한 방법으로 변경합니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DetailFragment</span> <span class="keyword">extends</span> <span class="title">Fragment</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String LOG_TAG = DetailActivity.class.getSimpleName();</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String FORECAST_SHARE_HASHTAG = <span class="string">&quot; #SunshineApp&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> String mForecastStr;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">DetailFragment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> View <span class="title">onCreateView</span><span class="params">(LayoutInflater inflater, ViewGroup container,</span></span></span><br><span class="line"><span class="function"><span class="params">			Bundle savedInstanceState)</span> </span>&#123;</span><br><span class="line">		View rootView = inflater.inflate(R.layout.fragment_detail, container, <span class="keyword">false</span>);</span><br><span class="line">		Intent intent = getActivity().getIntent();</span><br><span class="line">		<span class="keyword">if</span> (intent != <span class="keyword">null</span> &amp;&amp; intent.hasExtra(Intent.EXTRA_TEXT)) &#123;</span><br><span class="line">			mForecastStr = intent.getStringExtra(Intent.EXTRA_TEXT);</span><br><span class="line">			((TextView)rootView.findViewById(R.id.detail_text)).setText(mForecastStr);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> rootView;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Share intent를 만듭시다. ACTION_SEND를 이용해서 처리합니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> Intent <span class="title">createShareForecastIntent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Intent shareIntent = <span class="keyword">new</span> Intent(Intent.ACTION_SEND);</span><br><span class="line">	shareIntent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET);</span><br><span class="line">	shareIntent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">	shareIntent.putExtra(Intent.EXTRA_TEXT,</span><br><span class="line">		mForecastStr + FORECAST_SHARE_HASHTAG);</span><br><span class="line">	<span class="keyword">return</span> shareIntent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 메뉴를 만들어야 합니다</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">DetailFragment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	setHasOptionsMenu(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu, MenuInflater inflater)</span> </span>&#123;</span><br><span class="line">	inflater.inflate(R.menu.menu_detail_fragment, menu);</span><br><span class="line"></span><br><span class="line">	MenuItem menuItem = menu.findItem(R.id.action_share);</span><br><span class="line"></span><br><span class="line">	ShareActionProvider mShareActionProvider =</span><br><span class="line">		(ShareActionProvider) MenuItemCompat.getActionProvider(menuItem);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (mShareActionProvider != <span class="keyword">null</span>) &#123;</span><br><span class="line">		mShareActionProvider.setShareIntent(CreateShareForecastIntent());</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		Log.d(LOG_TAG, <span class="string">&quot;Share Action Provider is null?&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">super</span>.onCreateOptionsMenu(menu, inflater);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>이제 우리는 데이터도 전송 할 수 있습니다.</p>
<hr>
<p>여기서 추가로 더 배워봅시다</p>
<p><strong>Brodcast Intents</strong> 입니다</p>
<p>Android Device에서는 여러가지 방송메세지가 돌아 다닙니다<br>배터리가 충전이 다되었다. 문자가 왔다. 전화가 왔다. 다운로드가 완료되었다. 등등 정말 많은 메세지가 돌아다닙니다</p>
<p>이런 메세지는 intent filter를 가진 Brodcast Reciver가 있는 모든 Application에 전송이 됩니다</p>
<p>Intent Filter는 2가지 방법으로 등록 할 수 있습니다.</p>
<p><strong>XML - Static</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">receiver</span> <span class="attr">android:name</span>&quot;<span class="attr">.MyReceiver</span>&quot;&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;me.hoyuo.testapp.SunShine&quot;</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">receiver</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>JAVA - Dynamic</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IntentFilter intentFilter =</span><br><span class="line">	<span class="keyword">new</span> IntentFilter(<span class="string">&quot;me.hoyuo.testapp.SunShine&quot;</span>);</span><br><span class="line">registerReceiver(myReceiver, intentFilter);</span><br></pre></td></tr></table></figure>

<p>두가지 방법 모두 Brodcast Recevier를 등록하는 것입니다<br>두가지 방법에는 미세한 차이가 있습니다</p>
<p><img src="/img/adnroid-developing/3/18.png"></p>
<hr>
<h1 id="복습은-필수"><a href="#복습은-필수" class="headerlink" title="복습은 필수"></a>복습은 필수</h1><ul>
<li>ListView Item Selected</li>
<li>Toast</li>
<li>Activity</li>
<li>Setting</li>
<li>Intent</li>
<li>Share action provider</li>
<li>Brodcast</li>
</ul>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Hoyuo
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://hoyuo.github.io/2017/02/06/adnroid-developing/Developing-Android-Apps-03/" title="3. Create New Activities and Navigate Apps with Intents">https://hoyuo.github.io/2017/02/06/adnroid-developing/Developing-Android-Apps-03/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/udacity/" rel="tag"><i class="fa fa-tag"></i> udacity</a>
              <a href="/tags/android/" rel="tag"><i class="fa fa-tag"></i> android</a>
          </div>

        
  <div class="post-widgets">
    <div class="wp_rating">
      <div id="wpac-rating"></div>
    </div>
  </div>


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2017/02/04/adnroid-developing/Developing-Android-Apps-02/" rel="prev" title="2. Connect Sunshine to the Cloud">
      <i class="fa fa-chevron-left"></i> 2. Connect Sunshine to the Cloud
    </a></div>
      <div class="post-nav-item">
    <a href="/2017/02/09/adnroid-developing/Developing-Android-Apps-04/" rel="next" title="4. Activity Lifecycle and Data">
      4. Activity Lifecycle and Data <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#ListView-Item-Select"><span class="nav-number">1.</span> <span class="nav-text">ListView Item Select</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%A0%95%EB%8B%B5-setOnItemClickListener"><span class="nav-number">1.1.</span> <span class="nav-text">정답 : setOnItemClickListener</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Toast"><span class="nav-number">2.</span> <span class="nav-text">Toast</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Activity"><span class="nav-number">3.</span> <span class="nav-text">Activity</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%9D%BC%EB%8B%A8-%ED%8C%8C%EC%9D%BC%EC%9D%84-%EC%A0%95%EB%A6%AC-%ED%95%A9%EC%8B%9C%EB%8B%A4-%EC%97%AC%EA%B8%B0%EC%84%9C-%EC%97%86%EB%8A%94-%ED%8C%8C%EC%9D%BC%EC%9D%80-%EB%84%98%EC%96%B4%EA%B0%80%EC%8B%9C%EB%A9%B4-%EB%90%A9%EB%8B%88%EB%8B%A4"><span class="nav-number">3.1.</span> <span class="nav-text">일단 파일을 정리 합시다 (여기서 없는 파일은 넘어가시면 됩니다)</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#UX-User-Experience-Setting"><span class="nav-number">4.</span> <span class="nav-text">UX(User Experience) - Setting</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%ED%86%A0%EB%A1%A0%EC%9D%84-%ED%86%B5%ED%95%B4%EC%84%9C-%EA%B2%B0%EC%A0%95%EC%9D%B4-%EB%82%98%EB%8A%94%EA%B2%83%EC%9D%80-%EC%95%84%EB%8B%88%EC%A7%80%EB%A7%8C-%EA%B7%B8%EB%9E%98%EB%8F%84-%EB%AA%A8%EB%93%A0%EA%B2%83%EC%9D%84-Setting%EC%97%90-%EB%84%A3%EB%8A%94-%EA%B2%83%EC%9D%80-%ED%95%98%EC%A7%80-%EB%A7%88%EC%84%B8%EC%9A%94"><span class="nav-number">4.1.</span> <span class="nav-text">토론을 통해서 결정이 나는것은 아니지만 그래도 모든것을 Setting에 넣는 것은 하지 마세요!!!!</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Implicit-Intent"><span class="nav-number">4.2.</span> <span class="nav-text">Implicit Intent</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%EC%97%AC%EA%B8%B0%EC%84%9C-%EC%9A%B0%EB%A6%AC%EB%8A%94-%EA%B6%81%EA%B8%88%ED%95%A9%EB%8B%88%EB%8B%A4-%EC%96%B4%EB%96%BB%EA%B2%8C-Map-Application%EC%9D%B4-%EC%8B%A4%ED%96%89%EB%90%98%EB%8A%94%EC%A7%80"><span class="nav-number">4.3.</span> <span class="nav-text">여기서 우리는 궁금합니다 - 어떻게 Map Application이 실행되는지</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Share-action-provider"><span class="nav-number">4.4.</span> <span class="nav-text">Share action provider</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EB%B3%B5%EC%8A%B5%EC%9D%80-%ED%95%84%EC%88%98"><span class="nav-number">5.</span> <span class="nav-text">복습은 필수</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Hoyuo</p>
  <div class="site-description" itemprop="description">Hoyuo's programming writting</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">45</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">11</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Hoyuo</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  



  <script>
  if (CONFIG.page.isPost) {
    wpac_init = window.wpac_init || [];
    wpac_init.push({
      widget: 'Rating',
      id    : 30567,
      el    : 'wpac-rating',
      color : '#fc6423'
    });
    (function() {
      if ('WIDGETPACK_LOADED' in window) return;
      WIDGETPACK_LOADED = true;
      var mc = document.createElement('script');
      mc.type = 'text/javascript';
      mc.async = true;
      mc.src = '//embed.widgetpack.com/widget.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
    })();
  }
  </script>

  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>


<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '79c048e4f0067cf8561e',
      clientSecret: '2143a9396e1b205817582122455e850a93254adf',
      repo        : 'gtalk',
      owner       : 'hoyuo',
      admin       : ['hoyuo'],
      id          : 'fd3f3974dd2105c99a7bab81d6b7b3ac',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
